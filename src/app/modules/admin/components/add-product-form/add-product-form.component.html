<div class="container-fluid" *ngIf="form">
  <form [formGroup]='form' (ngSubmit)='onSubmit()'>
    <div class="form-row">

      <div class="form-group col-md-6">
        <label>Brand</label>
        <select class="form-control" formControlName='brand'>
          <option value="null" disabled="true" [selected]='true'>Select brand...</option>
          <option *ngFor='let brand of brands' ngValue="{{brand.name}}">{{brand.name}}</option>
        </select>
        <div class="alert alert-danger" *ngIf='isFormControlInvalid("brand") && isFormControlTouched("brand")'>Brand is
          required!</div>
      </div>

      <div class="form-group col-md-6">
        <label>Model</label>
        <input type="text" class="form-control" formControlName='model' placeholder="enter model..." required>
        <div class="alert alert-danger" *ngIf='isFormControlInvalid("model") && isFormControlTouched("model")'>Model is
          required!</div>
      </div>

    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Color</label>
        <input type="text" class="form-control" formControlName='color' placeholder="enter color...">
        <div class="alert alert-danger" *ngIf='isFormControlInvalid("color") && isFormControlTouched("color")'>Color is
          required!</div>
      </div>

      <div class="form-group col-md-6">
        <label>Price</label>
        <input type="number" step="0.01" class="form-control" formControlName='price' placeholder="enter price...">
        <div class="alert alert-danger" *ngIf='isFormControlInvalid("price") && isFormControlTouched("price")'>Price is
          required!</div>
      </div>
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea class="form-control" formControlName='description' placeholder="enter description..."></textarea>
      <div class="alert alert-danger" *ngIf='isFormControlInvalid("description") && isFormControlTouched("description")'>Description
        is required!</div>
    </div>

    <div class="form-row" formGroupName='categories'>
      <label class="m-1">Categories</label>
      <div class="row form-check">
        <div *ngFor='let category of categories' class="col-md-3 m-1">
          <input type="checkbox" formControlName='{{category.name}}' value="category.name" class="form-check-input">
          <label class='form-check-label'>{{category.name}}</label>
        </div>
      </div>
    </div>

    <div class="form-row" formGroupName="sizes">
      <label class="m-1">Sizes</label>
      <div class="form-row">
        <div *ngFor="let size of sizes" class="col-md-3 border p-0">
          <div class="row p-0 m-0">
            <label class="col-md-4 text-right m-0">{{size.name}}</label>
            <input type="number" formControlName="{{size.name}}" class="form-control small p-0 col-md-6" placeholder="@Qty">
          </div>
        </div>
      </div>
    </div>

    <div class="form-group col-md-12 p-0">
      <label>Images</label>
      <input type="file" class="form-control" formControlName='files' multiple (change)='onFileChange($event)'>
      <!-- <div class="alert alert-danger" *ngIf='images.invalid && images.touched'>Images are required!</div> -->
      <div *ngIf='imagesPreviewUrl' class="row m-auto">
        <div *ngFor='let url of imagesPreviewUrl' class="col-md-2 p-0 m-1">
          <img class="preview-img" src="{{url}}" />
        </div>
      </div>
    </div>

    <button type="submit" [disabled]='form.invalid' class="btn btn-primary btn-block">Submit</button>
  </form>
</div>